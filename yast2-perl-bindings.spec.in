@HEADER-COMMENT@

@HEADER@
Group:	System/YaST
License: GPL-2.0+
BuildRequires:	blocxx-devel curl-devel gcc-c++ rpm-devel yast2-core-devel yast2-devtools yast2-ycp-ui-bindings-devel libtool

# YCPValue::valuetype_str()
Requires:	yast2-core >= 2.16.37
BuildRequires:  yast2-ycp-ui-bindings-devel >= 2.16.37
Requires:       yast2-ycp-ui-bindings       >= 2.16.37
Requires:	perl = %{perl_version}
# for YaPI.pm
Requires:	perl(Locale::gettext)

Summary:	YaST2 - Perl Bindings

%description
This adds an embedded Perl interpreter to YaST2 as a plug-in (in other
words it will be loaded only if required). This is a very efficient way
of calling Perl from within YaST2 YCP scripts.

@PREP@

@BUILD@

@INSTALL@
rm $RPM_BUILD_ROOT/@plugindir@/libpy2lang_perl.la
rm $RPM_BUILD_ROOT/%{perl_vendorarch}/auto/YaST/YCP/libYCP.la

@CLEAN@

%files
%defattr (-, root, root)
@plugindir@/libpy2lang_perl.so.*
@plugindir@/libpy2lang_perl.so
# libYCP goes elsewhere
%dir %{perl_vendorarch}/YaST
%{perl_vendorarch}/YaST/YCP.pm
%dir %{perl_vendorarch}/auto/YaST
%dir %{perl_vendorarch}/auto/YaST/YCP
%{perl_vendorarch}/auto/YaST/YCP/libYCP.so*
%dir @moduledir@
@moduledir@/YaPI.pm
@ydatadir@/devtools/pluglib-bindings
@ydatadir@/devtools/admin/aminclude/pluglib-bindings.ami
%doc @docdir@
